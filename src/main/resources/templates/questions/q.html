<!DOCTYPE html>
<!-- saved from url=(0043)https://segmentfault.com/q/1010000018604298 -->
<html lang="zh-CN" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1" />
    <meta name="renderer" content="webkit" />
    <meta property="qc:admins" content="15317273575564615446375" />
    <meta property="og:image" content="https://static.segmentfault.com/v-5c8b4d77/global/img/touch-icon.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
    <meta name="alexaVerifyID" content="LkzCRJ7rPEUwt6fVey2vhxiw1vQ" />
    <meta name="apple-itunes-app" content="app-id=958101793, app-argument=" />
    <title>javascript - JS在字符串中加入特殊符号 - SegmentFault 思否</title>
    <meta name="description" content="有一段字符串'AAAA'，怎么切割成'A,A,A,A'。利用函数式编程改怎么写" />
    <meta name="keywords" content="javascript" />
    <link rel="search" type="application/opensearchdescription+xml" href="https://segmentfault.com/opensearch.xml" title="SegmentFault" />
    <link rel="shortcut icon" href="https://static.segmentfault.com/v-5c8b4d77/global/img/favicon.ico" />
    <link rel="apple-touch-icon" href="https://static.segmentfault.com/v-5c8b4d77/global/img/touch-icon.png" />
    <meta name="msapplication-TileColor" content="#009a61" />
    <meta name="msapplication-square150x150logo" content="https://static.segmentfault.com/v-5c8b4d77/global/img/touch-icon.png" />
    <meta name="baidu_union_verify" content="bcf7fd80dca60d53d46d5b46e1b990ca" />
    <meta name="userId" value="1030000018341974" id="SFUserId" />
    <meta name="userRank" value="32" id="SFUserRank" />
    <link rel="alternate" type="application/atom+xml" title="SegmentFault 最新问题" href="https://segmentfault.com/feeds/questions" />
    <link rel="alternate" type="application/atom+xml" title="SegmentFault 最新文章" href="https://segmentfault.com/feeds/blogs" />
    <link rel="stylesheet" href="../../question/q_files/global.css" />
    <link rel="stylesheet" href="../../question/q_files/qa.css" />
    <link rel="stylesheet" href="../../question/q_files/responsive.css" />
    <script src="../../question/q_files/hm.js.下载"></script>
    <script async="" src="../../question/q_files/analytics.js.下载"></script>
    <script type="text/javascript" src="../../question/q_files/spcjs.php"></script>
    <script type="text/javascript" src="../../question/q_files/spc.php"></script>
    <script type="text/javascript" src="../../question/q_files/fl.js.下载"></script>
    <script type="text/javascript" th:src="@{/js/jquery-3.3.1.js}"></script>
    <link rel="stylesheet" th:href="@{/lib/layui/css/layui.css}" media="all"/>
    <link rel="stylesheet" th:href="@{/editormd/css/editormd.preview.min.css}" />
    <link rel="stylesheet" th:href="@{/editormd/css/editormd.css}" />
    <script th:src="@{/editormd/examples/js/jquery.min.js}"></script>
    <!-- 因为我们使用了dark主题，所以在容器div上加上dark的主题类，实现我们自定义的代码样式 -->
    <script th:src="@{/editormd/lib/marked.min.js}"></script>
    <script th:src="@{/editormd/lib/prettify.min.js}"></script>
    <script th:src="@{/editormd/editormd.min.js}"></script>
    <script charset="utf-8" id="ParadigmSDK" src="../../question/q_files/ParadigmSDK_v2.js.下载" data="325" defsi="586"></script>
    <script>
        ParadigmSDK.init("46e957bd9dea4acdaa15b4b64aff728f");
        ParadigmSDK.trackDetailPageShow();
    </script>
    <script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="https://static.segmentfault.com/v-5c8b4d77/3rd/highlightjs/highlight.pack.js" src="../../question/q_files/highlight.pack.js.下载"></script>
    <style id="tsbrowser_video_independent_player_style" type="text/css">                                                            [tsbrowser_force_max_size] {                                                   width: 100% !important;                                                      height: 100% !important;                                                     left: 0px !important;                                                        top: 0px !important;                                                         margin: 0px !important;                                                      padding: 0px !important;                                                   }                                                                            [tsbrowser_force_fixed] {                                                      position: fixed !important;                                                  z-index: 9999 !important;                                                    background: black !important;                                              }                                                                            [tsbrowser_force_hidden] {                                                     opacity: 0 !important;                                                       z-index: 0 !important;                                                     }                                                                            [tsbrowser_hide_scrollbar] {                                                   overflow: hidden !important;                                               }</style>
</head>
<!-- 推荐引擎 -->
<body data-mod="qa" class="qa-question" style="">
<!--[if lt IE 9]><div class="alert alert-danger topframe" role="alert">你的浏览器实在<strong>太太太太太太旧了</strong>，放学别走，升级完浏览器再说 <a target="_blank" class="alert-link" href="http://browsehappy.com">立即升级</a></div><![endif]-->
<img id="icon4weChat" style="height: 0;width: 0;" data-src="https://static.segmentfault.com/v-5c8b4d77/global/img/touch-icon-512.png" />
<div id="gridMapHoverBox" style="position:absolute; border: 1px solid #009a61; z-index:99; font-size: 10px; background:#fff"></div>
<body class="user-index " data-mod="user">
<!--[if lt IE 9]><div class="alert alert-danger topframe" role="alert">你的浏览器实在<strong>太太太太太太旧了</strong>，放学别走，升级完浏览器再说 <a target="_blank" class="alert-link" href="http://browsehappy.com">立即升级</a></div><![endif]-->
<img data-src="https://static.segmentfault.com/v-5c8b4d77/global/img/touch-icon-512.png" id="icon4weChat" style="height: 0;width: 0;">
<div id="gridMapHoverBox" style="position:absolute; border: 1px solid #009a61; z-index:99; font-size: 10px; background:#fff">
</div>
<div class="global-nav sf-header sf-header--index">
    <div class="bottom-nav visible-xs visible-sm hidden">
        <div class="opts">
            <a class="opts-group " href="http://localhost:8080/yunforum/specials/query">
                <i aria-hidden="true" class="fa fa-home">
                </i>
                <span>
                                首页
                            </span>
            </a>
            <a class="opts-group " href="http://localhost:8080/yunforum/questions/questions">
                <i aria-hidden="true" class="fa fa-comments">
                </i>
                <span>
                                问答
                            </span>
            </a>
            <a class="opts-group " href="http://localhost:8080/yunforum/specials/blogs">
                <i aria-hidden="true" class="fa fa-pencil-square">
                </i>
                <span>
                                专栏
                            </span>
            </a>
            <div class="opts-group">
                <div class="btn-group dropup">
                    <i aria-hidden="true" class="fa fa-bars dropdown hoverDropdown" data-toggle="dropdown">
                                    <span>
                                        更多
                                    </span>
                    </i>
                    <ul class="dropdown-menu">
                        <li>
                            <a href="https://segmentfault.com/jobs">
                                职位
                            </a>
                        </li>
                        <li>
                            <a href="https://segmentfault.com/events">
                                活动
                            </a>
                        </li>
                        <li>
                            <a href="https://segmentfault.com/tags">
                                标签
                            </a>
                        </li>
                        <li>
                            <a href="https://segmentfault.com/badges">
                                徽章
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    <nav class="container nav">
        <div class="visible-xs visible-sm header-response">
            <a href="https://segmentfault.com/search" style="display:block">
                <i aria-hidden="true" class="fa fa-search">
                </i>
            </a>
            <div class="sf-header__logo sf-header__logo--response">
                <h1>
                    <a href="https://segmentfault.com/" style="height:24px; background-size: auto 24px;">
                    </a>
                </h1>
            </div>
            <div class="opts">
                <li class="opts__item user dropdown hoverDropdown">
                    <a class="dropdownBtn user-avatar" data-toggle="dropdown" href="https://segmentfault.com/u/jianao" style="background-image: url('https://avatar-static.segmentfault.com/159/699/1596994257-5c943ea0b02e8_big64');">
                    </a>
                    <div class="dropdown-avatar-menu hidden">
                        <div class="menu-score">
                                        <span class="score pull-left ml20 mr10">
                                            0 声望
                                        </span>
                            <div class="">
                                            <span class="badge badge--o badge--sf badge--gold">
                                                <i class="badge__icon">
                                                </i>
                                            </span>
                                <span class="profile__sidebar--award-badge-count">
                                                0
                                            </span>
                                <span class="badge badge--o badge--sf badge--silver">
                                                <i class="badge__icon">
                                                </i>
                                            </span>
                                <span class="profile__sidebar--award-badge-count">
                                                0
                                            </span>
                                <span class="badge badge--o badge--sf badge--bronze">
                                                <i class="badge__icon">
                                                </i>
                                            </span>
                                <span class="profile__sidebar--award-badge-count">
                                                1
                                            </span>
                            </div>
                        </div>
                        <hr>
                        <div class="container-fluid">
                            <div class="menu-list row">
                                <div class="col-md-6 col-xs-6 pl0 pr0">
                                    <ul>
                                        <li class="message-response visible-xs">
                                            <a href="https://segmentfault.com/user/notifications" id="messageCount-response">
                                                通知提醒
                                            </a>
                                        </li>
                                        <li>
                                            <a href="https://segmentfault.com/u/jianao/notes">
                                                我的笔记
                                            </a>
                                        </li>
                                        <li>
                                            <a href="https://segmentfault.com/u/jianao/bookmarks">
                                                我的收藏
                                            </a>
                                        </li>
                                        <li>
                                            <a href="https://segmentfault.com/user/invited">
                                                受邀回答
                                            </a>
                                        </li>
                                        <li>
                                            <a href="https://segmentfault.com/experts">
                                                付费问答
                                            </a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="col-md-6 col-xs-6 pl0 pr0">
                                    <ul>
                                        <li class="letter-response visible-xs">
                                            <a href="https://segmentfault.com/user/messages" id="letterCount-response">
                                                私信消息
                                            </a>
                                        </li>
                                        <li>
                                            <a href="https://segmentfault.com/u/jianao">
                                                我的主页
                                            </a>
                                        </li>
                                        <li>
                                            <a href="https://segmentfault.com/u/jianao/about">
                                                我的档案
                                            </a>
                                        </li>
                                        <li>
                                            <a href="https://segmentfault.com/user/finance">
                                                我的资产
                                            </a>
                                        </li>
                                        <li>
                                            <a href="https://segmentfault.com/user/settings">
                                                个人设置
                                            </a>
                                        </li>
                                        <li>
                                            <a href="https://segmentfault.com/api/user/logout?_=06e96beae137f919d04adeb1ba5fb5d4">
                                                退出
                                            </a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <hr>
                        <div class="menu-footer">
                            <a class="js__action--complain" href="javascript:void(0);">
                                                    <span>
                                                        用户申诉
                                                    </span>
                            </a>
                            ·
                            <a href="https://segmentfault.com/g/1570000009280187">
                                                    <span>
                                                        建议反馈
                                                    </span>
                            </a>
                            ·
                            <a href="https://segmentfault.com/user/invitation">
                                                    <span>
                                                        邀请朋友
                                                    </span>
                            </a>
                        </div>
                        </hr>
                        </hr>
                    </div>
                </li>
                <li class="opts__item dropdown hoverDropdown write-btns mt0">
                    <a class="dropdownBtn" data-toggle="dropdown" href="https://segmentfault.com/ask">
                        <i aria-hidden="true" class="fa fa-plus" style="margin-top: 7px">
                        </i>
                    </a>
                    <ul class="dropdown-menu dropdown-menu-right ">
                        <li>
                            <a href="https://segmentfault.com/ask">
                                提问题
                            </a>
                        </li>
                        <li>
                            <a href="https://segmentfault.com/write">
                                写文章
                            </a>
                        </li>
                    </ul>
                </li>
            </div>
        </div>

        <div class="row hidden-xs hidden-sm">
            <div class="col-sm-8 col-md-9 col-lg-9">
                <div class="sf-header__logo">
                    <h1>
                        <a href="https://segmentfault.com/">
                            SegmentFault
                        </a>
                    </h1>
                </div>
                <div>
                    <ul class="menu list-inline pull-left hidden-xs">
                        <li class="menu__item">
                            <a class="" href="http://localhost:8080/yunforum/specials/query">
                                首页
                            </a>
                        </li>
                        <li class="menu__item">
                            <a class="" href="http://localhost:8080/yunforum/questions/questions">
                                问答
                            </a>
                        </li>
                        <li class="menu__item">
                            <a class="" href="http://localhost:8080/yunforum/specials/blogs">
                                专栏
                            </a>
                        </li>
                        <li class="menu__item">
                            <a class="" href="http://localhost:8080/yunforum/circle/circle">
                                圈子
                            </a>
                        </li>
                        <li class="menu__item visible-sm-inline-block">
                            <a href="https://segmentfault.com/search">
                                            <span class="glyphicon glyphicon-search" style="vertical-align: middle;">
                                            </span>
                            </a>
                        </li>
                    </ul>
                    <form action="../person/queryzi" class="header-search hidden-sm hidden-xs pull-right">
                        <button class="btn btn-link" onclick="tijiao()">
                                        <span class="sr-only">
                                            搜索
                                        </span>
                            <i class="layui-icon layui-icon-search" style="font-size: 15px;"></i>
                            </span>
                        </button>
                        <input class="form-control" id="searchBox" name="zi" placeholder="搜索问题或关键字" type="text" value=""/>
                    </form>
                    <script>
                        function tijiao(){
                            window.location('../person/queryzi?zi='+$("#searchBox").val());
                        }
                    </script>
                </div>
            </div>
            <!--登陆注册-->
            <div class="col-sm-4 col-md-3 col-lg-3 text-right" id="loginAndRegister" th:if="${session.LoginUser==null}">
                <ul class="opts list-inline hidden-xs">
                    <li class="opts__item"><a href="http://localhost:8080/yunforum/logins" style="margin-bottom:2px;">立即登录</a> <a class="SFLogin ml10 btn-signup" href="register" onclick="_gaq.push(['_trackEvent', 'Button', 'Click', 'Login']);">免费注册</a> </li>
                </ul>
            </div>


            <div class="col-sm-4 col-md-3 col-lg-3 text-right" id="LoginThan" th:if="${session.LoginUser!=null}">
                <ul class="opts list-inline hidden-xs">
                    <li class="opts__item dropdown hoverDropdown write-btns visible-lg-inline-block">
                        <div id="dsd" class="btn-group" >
                            <button aria-expanded="false" aria-haspopup="true" class="btn btn-default dropdown-toggle" data-toggle="dropdown" type="button">
                                创建
                                <span class="caret">
                                            </span>
                            </button>
                            <script>
                                $('body').on('click',function(e){
                                    var target = $(e.target);
                                    // 如果#overlay或者#btn下面还有子元素，可使用
                                    // !target.is('#btn *')
                                    if(target.is('#dsd *')){
                                        $('#dsd').prop("class","btn-group open")
                                    }else{
                                        $('#dsd').prop("class","btn-group")
                                    }
                                })
                            </script>
                            <ul class="dropdown-menu">
                                <li>
                                    <a th:href="'../questions/queryLatype'">
                                        提问题
                                    </a>
                                </li>
                                <li>
                                    <a th:href="'../perspecial/perspecial'">
                                        写文章
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </li>
                    <li class="opts__item dropdown hoverDropdown write-btns visible-md-inline-block">
                        <a class="dropdownBtn" data-toggle="dropdown" href="https://segmentfault.com/ask">
                            <i aria-hidden="true" class="fa fa-plus">
                            </i>
                        </a>
                        <ul class="dropdown-menu dropdown-menu-right ">
                            <li>
                                <a href="https://segmentfault.com/ask">
                                    提问题
                                </a>
                            </li>
                            <li>
                                <a href="https://segmentfault.com/submit">
                                    发头条
                                </a>
                            </li>
                            <li>
                                <a href="https://segmentfault.com/write">
                                    写文章
                                </a>
                            </li>
                            <li>
                                <a href="https://segmentfault.com/record">
                                    记笔记
                                </a>
                            </li>
                            <li class="divider">
                            </li>
                            <li>
                                <a href="https://segmentfault.com/user/draft">
                                    草稿箱
                                </a>
                            </li>
                        </ul>
                    </li>
                    <li class="opts__item message has-unread hidden-sm ml10"  id="dLabel">
                        <a class="dropdown-toggle-message" href="javascript:void(0);">
                                        <span class="sr-only">
                                            消息
                                        </span>
                            <i class="layui-icon layui-icon-notice" style="font-size: 20px"></i>
                        </a>
                    </li>
                    <li class="opts__item letter has-unread hidden-sm">
                        <a class="dropdown-toggle-letter" href="../letter/query" id="lLabel">
                            <i class="layui-icon layui-icon-chat" style="font-size: 20px"></i>
                            <span class="has-unread__count" th:if="${session.sixin!=0}" th:text="${session.sixin}"></span>
                        </a>
                    </li>
                    <style>
                        @media (max-width: 1200px) {
                            .trialCenter-wrapper {
                                display: none !important;
                            }
                        }
                    </style>
                    <li class="opts__item user dropdown hoverDropdown ml0" id="aab">
                        <a class="avatar-* dropdownBtn user-avatar" data-toggle="dropdown" src="https://avatar-static.segmentfault.com/159/699/1596994257-5c943ea0b02e8_big64" th:style="'background-image: url('+${session.LoginUser==null?'https://avatar-static.segmentfault.com/159/699/1596994257-5c943ea0b02e8_big64':'http://localhost:8080/yunforum/image/'+session.LoginUser[0].head}+');'">
                        </a>
                        <script>
                            $('body').on('click',function(e){
                                var target = $(e.target);
                                // 如果#overlay或者#btn下面还有子元素，可使用
                                // !target.is('#btn *')
                                if(target.is('#aab *')){
                                    $('#dds').prop("class","dropdown-avatar-menu")
                                }else{
                                    $('#dds').prop("class","dropdown-avatar-menu hidden")
                                }
                            })
                        </script>
                        <div id="dds" class="dropdown-avatar-menu hidden">
                            <div class="container-fluid">
                                <div class="menu-list row">
                                    <div class="col-md-6 col-xs-6 pl0 pr0">
                                        <ul>
                                            <li>
                                                <a th:href="@{'/person/qqq?page=1&userid='+${session.LoginUser[0].userid}}">
                                                    我的提问
                                                </a>
                                            </li>
                                            <li>
                                                <a th:href="@{'/person/answers?page=1&userid='+${session.LoginUser[0].userid}}">
                                                    我的回答
                                                </a>
                                            </li>
                                        </ul>
                                    </div>
                                    <div class="col-md-6 col-xs-6 pl0 pr0">
                                        <ul>
                                            <li>
                                                <a th:href="@{'/person/queryPS?page=1&userid='+${session.LoginUser[0].userid}}">
                                                    我的文章
                                                </a>
                                            </li>
                                            <li>
                                                <a th:href="@{'/person/queryattla?userid='+${session.LoginUser[0].userid}}">
                                                    我的关注
                                                </a>
                                            </li>
                                            <li>
                                                <a th:href="@{'/person/queryOne?userid='+${session.LoginUser[0].userid}}">
                                                    信息修改
                                                </a>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            <hr>
                            <div class="menu-footer">
                                <a class="js__action--complain" href="javascript:void(0);">
                                                        <span>
                                                            用户申诉
                                                        </span>
                                </a>
                                ·
                                <a href="https://segmentfault.com/g/1570000009280187">
                                                        <span>
                                                            建议反馈
                                                        </span>
                                </a>
                                ·
                                <a href="https://segmentfault.com/user/invitation">
                                                        <span>
                                                            邀请朋友
                                                        </span>
                                </a>
                            </div>
                            </hr>
                            </hr>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
</div>
<div class="wrap">
    <div class="text-center block hidden-xs">
        <script type="text/javascript">
            OA_show(2);
        </script>
        <div id="beacon_21fa644b20" style="position: absolute; left: 0px; top: 0px; visibility: hidden;">
            <img src="../../question/q_files/lg.php" width="0" height="0" alt="" style="width: 0px; height: 0px;" />
        </div>
    </div>
    <div class="post-topheader">
        <div class="container">
            <ol class="breadcrumb mb15">
                <li><a href="#" onClick="javascript :history.back(-1);">问答</a></li>
                <li class="active">问答详情</li>
            </ol>
        </div>
    </div>
    <!-- end .post-topheader -->
    <div class="container">
        <div class="row">
            <div class="col-xs-12 col-md-9 main">
                <div class="visible-lg">
                    <div class="side-widget">
                        <i class="fa fa-bookmark item " id="side-widget-bookmarks-btn"></i>
                        <i class="fa fa-weibo item"></i>
                        <i class="fa fa-weixin item" data-toggle="popover" data-placement="right" data-original-title="" title=""></i>
                        <i class="fa fa-twitter item"></i>
                        <i class="fa fa-facebook item"></i>
                        <i class="fa fa-arrow-up item"></i>
                    </div>
                </div>
                <div class="block-for-right-border">
                    <div class="post-topheader__info mb15">
                        <h1 class="h2 post-topheader__info--title" id="questionTitle" data-id="1010000018604298"> <a href="https://segmentfault.com/q/1010000018604298" th:text="${list[0].title}"></a> </h1>
                        <ul class="taglist--inline inline-block question__title--tag mr10" th:each="qs:${list[0].lablenames}">
                            <li class="tagPopup mb5"> <a class="tag" th:href="@{'/questions/queryLableByLablename/'+${qs}}" data-toggle="popover" data-img="https://avatar-static.segmentfault.com/195/823/1958237468-1040000000089436_huge256" data-placement="top" data-original-title="javascript" data-id="1040000000089436" th:text="${qs}"> javascript </a> </li>
                        </ul>
                        <span th:text="${list[0].bro}"></span> 次浏览
                    </div>
                </div>
                <div></div>
                <article class="widget-question__item">
                    <div class="post-col">
                        <!--<div class="widget-vote  btn btn-default" id="bs">-->
                            <!--<button type="button" onfocus="bianse" onblur="shise()" class="like" data-id="1010000018604298" data-type="question" data-do="like" data-toggle="tooltip" data-placement="top" title="" data-original-title="问题对人有帮助，内容完整，我也想知道答案">
                                <span class="sr-only">问题对人有帮助，内容完整，我也想知道答案</span>
                            </button>
                            <span class="count" th:text="${list[0].nums}"></span>
                            <button type="button" onfocus="bianse" onblur="shise()" class="hate" data-id="1010000018604298" data-type="question" data-do="hate" data-toggle="tooltip" data-placement="bottom" title="" data-original-title="问题没有实际价值，缺少关键内容，没有改进余地">
                                <span class="sr-only">问题没有实际价值，缺少关键内容，没有改进余地</span>
                            </button>-->
                            <!--<a th:href="@{'/questions/addAmire/'+${list[0].questionid}}">-->
                                <img src="../../question/ico/dz.png" type="button" onclick="bianse(this)" th:id="${list[0].questionid}"/>
                            <!--</a>-->

                            <span class="count" th:text="${list[0].nums}"></span>
                        <!--</div>-->
                        <!-- end .widget-vote -->
                    </div>
                    <div class="post-offset">
                        <div id="test-editormd" >
                            <textarea></textarea>
                        </div>
                        <script type="text/javascript" th:inline="javascript">
                            testEditor = editormd.markdownToHTML("test-editormd", {
                                markdown:[[${list[0].content}]],
                                htmlDecode      : "style,script,iframe",  // you can filter tags decode
                                emoji           : true,
                                taskList        : true,
                                tex             : true,  // 默认不解析
                                flowChart       : true,  // 默认不解析
                                sequenceDiagram : true,  // 默认不解析
                            });
                        </script>
                        <div class="row">
                            <div class="post-opt col-md-8">
                                <ul class="list-inline mb0">
                                    <li>
                                        <input type="button"  th:id="${list[0].questionid}" class="btn btn-success btn-xs xxxx"  data-do="follow" data-type="question" data-original-title="" title="" onclick="guanzhuwenda(this)" th:value="关注"/>
                                        <!--<span type="button" class="btn btn-success btn-xs" th:text="${list[0].atten}" />-->
                                    </li>
                                    <li class="dropdown js__content-ops pl0 pr15" data-module="question" data-typetext="问题" data-id="1010000018604298"><a href="javascript:void(0);" class="dropdown-toggle" data-toggle="dropdown"><i class="fa fa-ellipsis-h" aria-hidden="true"></i></a>
                                        <ul class="dropdown-menu dropdown-menu-left">
                                            <li><a href="https://segmentfault.com/q/1010000018604298#911" data-toggle="modal" data-target="#911" data-action="report">举报</a></li>
                                            <li><a href="https://segmentfault.com/q/1010000018604298/revision">历史版本</a></li>
                                        </ul></li>
                                </ul>
                            </div>
                            <div class="question__author col-md-4" style="display:flex">
                                <a th:href="@{'/person/answers?page=1&userid='+${list[0].userid}}"><img src="../../question/q_files/user-64.png" class="avatar-40 mr10 " data-toggle="popover" data-slug="incess" data-id="1030000012376369" /></a>
                                <div style="display:flex; flex-direction:column">
                                    <div class="mb3">
                                        <a th:href="@{'/person/answers?page=1&userid='+${list[0].userid}}" class="mr5"><strong th:text="${list[0].username}"></strong></a>
                                    </div>
                                    <span style="font-size:13px; color:#999" th:text="${list[0].details}"></span>
                                </div>
                            </div>
                        </div>
                        <div class="widget-comments hidden" id="comment-1010000018604298" data-id="1010000018604298">
                            <div class="widget-comments__form row">
                                <form class="clearfix" method="POST">
                                    <div class="form-group mb0 widget-comments__form--input">
                                        <input name="id" type="hidden" value="1010000018604298" />
                                        <textarea rows="1" name="text" class="form-control mono" id="commentText-1010000018604298" data-id="1010000018604298" placeholder="使用评论询问更多信息或提出修改意见，请不要在评论里回答问题"></textarea>
                                    </div>
                                    <div class="widget-comments__btn">
                                        <div class="pull-right">
                                            <button type="submit" class="btn btn-default postComment" data-id="1010000018604298">提交评论 </button>
                                            <span class="widget-comments__btn--tips"><a href="javascript:void(0);" class="toggle-comment-helper" title="语法提示"><i class="fa fa-question-circle"></i></a></span>
                                        </div>
                                    </div>
                                </form>
                                <div class="col-md-12">
                                    <div class="alert alert-warning alert-dismissible mb0 mt10 fmt comment-helper" data-rank="32" style="display:none;" role="alert">
                                        <button type="button" class="close" data-dismiss="alert" aria-label="Close" style="right:0;"><span aria-hidden="true">&times;</span></button> 评论支持部分 Markdown 语法：
                                        <code>**bold**</code>
                                        <code>_italic_</code>
                                        <code>[link](http://example.com)</code>
                                        <code>&gt; 引用</code>
                                        <code>`code`</code>
                                        <code>- 列表</code>。
                                        <br />同时，被你 @ 的用户也会收到通知
                                    </div>
                                </div>
                            </div>
                            <!-- /.widget-comments__form -->
                        </div>
                        <!-- /.widget-comments -->
                    </div>
                    <!-- end .post-offset -->
                </article>
                <div class="comments--news comments--default comments--discussion"id="goToReplyArea">
                    <div class="mb10 clearfix">
                        <strong class="comments-stat pull-left mr10" th:text="${count}+'条评论'"></strong>
                    </div>
                    <div class="comments-container">
                        <div class="comments-list">
                            <div class="comments-item" th:id="'ping'+${nets['reviewid']}" th:each="nets:${review}">
                                <div class="pull-left" th:if="${session.LoginUser!=null && list[0].userid==session.LoginUser[0].getUserid()&&list[0].reviewid==0} " ><!--th:if="${session.LoginUser[0].getUserid}==${list[0].userid}"    th:if="${list[0].reviewid==nets['userid']}" -->
                                    <!--<img  class="avatar-32 " src="../../question/ico/wcn.png" alt="">
                                    <span class="cmcn">已采纳</span>-->
                                    <i class="fa fa-check-circle accepted-check-icon" aria-hidden="true"></i>
                                    <br>
                                    <span class="fontsize13" th:id="${nets['userid']}" onclick="caina(this)">采纳</span>
                                </div>
                                <div class="pull-left" th:if="${list[0].reviewid==nets['userid']}"><!--th:if="${session.LoginUser[0].getUserid}==${list[0].userid}"     -->
                                    <!--<img  class="avatar-32 " src="../../question/ico/wcn.png" alt="">
                                    <span class="cmcn">已采纳</span>-->
                                    <i class="fa fa-check-circle accepted-check-icon" aria-hidden="true"></i>
                                    <br>
                                    <span class="fontsize13">已采纳</span>
                                </div>
                                <script th:inline="javascript">
                                    function caina(obj){
                                        var reviewid = obj.id;
                                        var questionid = [[${list[0].questionid}]];
                                        var data = {reviewid:reviewid,questionid:questionid};
                                        if(confirm("确认采纳吗本回答,是否采纳之后不能修改")){
                                            $.ajax({
                                                data: data,
                                                url: '../Caina',
                                                dataType: "json",
                                                type: 'post',
                                                success: function (data) {

                                                    if(data==1){
                                                        window.location.reload();
                                                    }
                                                }
                                            })
                                        }
                                    }
                                </script>
                                <div class="pull-left">
                                    <a th:href="@{'/person/answers?page=1&userid='+${nets['userid']}}" target="_blank">
                                        <img class="avatar-32 " th:src="@{${nets['head']}}" alt="">
                                    </a>
                                </div>
                                <div class="comments-content">
                                    <div class="comment-trigger">
                                        <div class="pull-right comment-option">
                                            <a href="#911" class="ml10" data-toggle="modal" data-target="#911"
                                               data-action="report" data-action-text="举报" data-module="comment"
                                               data-id="1050000017474870" data-typetext="评论" data-placement="top"
                                               title="举报"><span class="glyphicon glyphicon-flag" aria-hidden="true"></span>
                                            </a>
                                        </div>
                                        <strong>
                                            <a target="_blank" th:href="@{'/person/answers?page=1&userid='+${nets['userid']}}"
                                               th:text="${nets['username']}" id="userid"  style="color: #009a61;"></a>
                                        </strong>
                                        <span class="comments-isAuthor hide"></span>
                                        <span class="comments-date"
                                              th:text="'  ·   '+${#dates.format(nets['time'], 'yyyy年MM月dd日')}">
                                        </span>
                                    </div>
                                    <div class="fmt mb10"><p th:text="${nets['count']}"></p></div>
                                    <p class="comment-ops not-reply">
                                        <!--没有赞的-->
                                        <span class="comments-zan" th:if="${nets['queryone'] != 1 }" th:id="'zan'+${nets['reviewid']}">
                                            <i class="fa fa-thumbs-up mr4" aria-hidden="true" th:onclick="'javascript:zan(\''+${nets['reviewid']}+'\')'"></i>
                                            <span class="comments-zan-text">赞</span>
                                            <span class="comments-zan-value" th:text="${nets['likenum']==0?'':'+'+nets['likenum']}"></span>
                                        </span>
                                        <span class="comments-zan  comments-zan--active" th:if="${nets['queryone'] == 1}" th:id="'zan'+${nets['reviewid']}">
                                            <i class="fa fa-thumbs-up mr4" aria-hidden="true" th:onclick="'javascript:zan(\''+${nets['reviewid']}+'\')'"></i>
                                            <span class="comments-zan-text">已赞</span>
                                            <span class="comments-zan-value" th:text="${nets['likenum']==0?'':'+'+nets['likenum']}"></span>
                                        </span>
                                        <span class="ml15 comments-reply-btn" th:onclick="'javascript:hui(\''+${nets['reviewid']}+'\')'">回复</span>
                                        <span class="pull-right editBtns hidden">
                                          <button class="btn btn-link btn-xs cancel" type="button">取消</button>
                                          <button class="btn btn-primary btn-xs edit ml10" type="button">保存</button>
                                        </span>
                                    </p>
                                    <!--用于添加回复-->
                                    <div class="reply-list reply-list--empty" th:onsubmit="return checkForm()" th:id="${nets['reviewid']}">
                                        <form class="reply-form" th:onsubmit="return checkForm()" th:action="@{/questions/addByReply}">
                                            <input type="hidden" name="touserid" th:value="${nets['userid']}">
                                            <input type="hidden" name="reviewid" th:value="${nets['reviewid']}">
                                            <input type= "hidden" name="circleid" th:each="cir:${list}" th:value="${cir['circleid']}"/>
                                            <button type="submit" class="btn btn-default pull-right reply-btn">添加回复</button>
                                            <button class="hide" type="button"></button>
                                            <div class="form-group">
                                                <textarea style="min-height: 35px; max-height: 132px; overflow: hidden; overflow-wrap: break-word; height: 32px;" name="text" class="form-control reply-text" rows="1" placeholder="文明社会，理性评论" id="textsi"></textarea>
                                            </div>
                                        </form>
                                    </div>
                                    <!--回复表-->
                                    <div class="reply-list">
                                        <div class="reply-item" data-id="1050000017553480" th:each="re:${replie}" th:if="${re['reviewid']} eq ${nets['reviewid']}">
                                            <!--点赞数量的统计通过评论者id或者评论内容来对数据进行一个判断是否是当前的评论和回复，如果是则显示没有则不显示-->
                                            <span class="pull-left comment-ops " style="position:absolute;">
                                                <!--已经点赞的-->
                                                <span th:classappend="${re['queryone'] == 1 ? 'mr20 comments-zan comments-zan--active':'mr20 comments-zan'}" th:id="'hui'+${re['replyid']}">
                                                    <span class="comments-zan-value comment-showhide islike0-10" th:text="${re['likenumByReply']}"></span>
                                                    <i class="fa fa-thumbs-up comment-showhide ml5" aria-hidden="true" th:onclick="'javascript:huifu(\''+${re['replyid']}+'\')'"></i>
                                                </span>
                                            </span>
                                            <div class="reply-content-block">
                                                <div class="reply-content"><p th:text="${re['content']}"></p></div>
                                                <form action="/api/comment/1050000017553480/edit">
                                                    <div class="form-group">
                                                        <textarea class="editTextarea mono form-control mb10 hidden" rows="1" name="text"style="height: 28px;
                                                            overflow: hidden; word-wrap: break-word;">
                                                            恭喜吧，祝心想事成吧
                                                        </textarea>
                                                    </div>
                                                </form>
                                                <div class="comment-func inline-block">
                                                <span class="pull-right commentTools ml15">
                                                    <a href="#911" class="ml10" data-toggle="modal"
                                                       data-target="#911" data-module="comment"
                                                       data-id="1050000017783741"data-action='report'data-typetext="评论"
                                                       data-placement="top"title="举报">
                                                            <span class="glyphicon glyphicon-flag" aria-hidden="true"></span>
                                                    </a>
                                                </span>
                                                    <span class="comment-meta inline-block">
                                                    <span> — </span>
                                                    <a target="_blank" th:href="@{'/questions/personal/'+${re['from_userid']}}">
                                                        <strong th:text="${re['from_username']}"  style="color: #009a61;"></strong>
                                                    </a>
                                                    <span class="comments-isAuthor hide"></span>
                                                    <span class="text-muted-plus" th:text="'  ·   '+${#dates.format(re['recoverytime'], 'yyyy年MM月dd日')}"></span>
                                                </span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="reply-item reply-item--ops" th:each="re:${replie}" th:if="${re['reviewid']} eq ${nets['reviewid']}">
                                            <a class="reply-inner-btn" th:id="'tian'+${re['reviewid']}" th:onclick="'javascript:tian(\''+${re['reviewid']}+'\',\''+${nets['userid']}+'\')'" href="javascript:;">添加回复</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!--
                            <div class="comments-loading hide">载入中...</div>
                            <div class="comments-more "><a href="javascript:;">显示更多评论</a></div>
                         -->
                        <!--从session中查询出用户的信息来对当前用户来添加评论-->
                        <div class="comments-box" id="goToReplyEditor">
                            <div class="pull-left">
                                <!--<img class="avatar-32" th:src="${session.user.head}" alt=""/>-->
                            </div>
                            <div class="comments-box-content">
                                <form th:onsubmit="return checkForm()" th:action="@{/questions/addByReview}">
                                    <input type= "hidden" name="qid" th:each="nets:${list}" th:value="${nets['questionid']}"/>
                                    <div class="form-group mb0">
                                        <textarea name="text" rows="3" class="form-control"
                                                  placeholder="文明社会，理性评论" id="textsi"></textarea>
                                        <div class="mt15 text-right">
                                            <button type="button" class="hide"></button>
                                            <button class=" btn btn-primary" type="submit">发布评论</button>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script th:inline="javascript">
        function bianse(obj){
            if([[${session.LoginUser}]]==null){
                if(confirm("没有登录,是否登录")){
                    window.location="../../logins"}
            }
            $.ajax({
                data:{"id":obj.id},
                url:'/yunforum/questions/addAmire/'+obj.id,
                dataType:"json",
                type:'post',
                success: function(data){
                    if(data==1){
                        $("#bs").style.backgroundColor="#FFFF66";
                    }else{
                        $("#bs").style.backgroundColor="#FFFF66";
                    }
                }
            })
        }
        $(function (){
            if([[${session.LoginUser}]]==null) {
                $(".xxxx").attr("value","关注");
            }else{
                var  queryqid=[[${queryqid}]];
                console.log(queryqid)
                $.ajax({
                    data: {"queryqid":queryqid },
                    url: '../GuanZhu',
                    dataType: "json",
                    type: 'post',
                    success: function (data) {
                        if(data==1){
                            $(".xxxx").val("已关注");
                        }else{
                            $(".xxxx").val("关注");
                        }
                    }
                })
            }
        })
        function guanzhuwenda(obj){
            if([[${session.LoginUser}]]==null){
                if(confirm("没有登录,是否登录")){
                    window.location="../../logins"}
            }
            var  queryqid=[[${queryqid}]];
            console.log(queryqid)
            $.ajax({
                data:{"questionid":obj.id},
                url:'../attentionque',
                dataType:"json",
                type:'post',
                success: function(data){

                    $.ajax({
                        data: {"queryqid":queryqid },
                        url: '../GuanZhu',
                        dataType: "json",
                        type: 'post',
                        success: function (data) {
                            if(data==1){
                                $(".xxxx").val("已关注");
                            }else{
                                $(".xxxx").val("关注");
                            }
                        }
                    })
                }
            })
        }
    </script>
    <script type="text/javascript" th:inline="javascript">
        function hui(reviewid) {
            if($("#"+reviewid)){
                $("#"+reviewid).css("display","block");
            }
        }
        function tian(reviewid,userid) {
            /*$("#"+reviewid).parent();*/
            /*alert($("#"+reviewid).prev().html());*/
            $("#tian"+reviewid).hide();
            var qid = [[${nets['questionid']}]];
            /*alert(userid);
            alert(reviewid);*/
            $("#tian"+reviewid).after(" <form class=\"reply-form\" onsubmit=\"return checkForm()\" method=\"post\" action=\"../../questions/addByReply\">\n" +
                "            <input type=\"hidden\" name=\"reviewid\" value=\"\">\n"+
                "            <input type=\"hidden\" name=\"touserid\" value=\"\">\n"+
                "            <input type=\"hidden\" name=\"qid\" value=\"\">\n"+
                "            <button type=\"submit\" class=\"btn btn-default pull-right reply-btn\">添加回复</button>\n" +
                "            <button class=\"hide\" type=\"button\"></button>\n" +
                "            <div class=\"form-group\">\n" +
                "            <textarea style=\"min-height: 35px; max-height: 132px; overflow: hidden; overflow-wrap: break-word; height: 32px;\" name=\"text\" class=\"form-control reply-text\" rows=\"1\" placeholder=\"文明社会，理性评论\" id=\"textsi\"></textarea>\n" +
                "            </div>\n" +
                "        </form>");
            $("input[name='qid']").val(qid);
            $("input[name='touserid']").val(userid);
            $("input[name='reviewid']").val(reviewid);
        }

        /*function zan(reviewid) {
            $.ajax(
                {data:{'type_id':reviewid,'type':3},
                    dataType:"json",
                    success: function(data){
                        if(data["status"]==-1){
                            if(confirm("没有登录,是否登录")){
                                window.location="../../logins"}
                        }else if(data["status"]==1){
                            $("#zan"+reviewid).removeClass("comments-zan");
                            $("#zan"+reviewid).children(".comments-zan-text").text("已赞");
                            $("#zan"+reviewid).children(".comments-zan-value").text("+"+data['count']);
                            $("#zan"+reviewid).addClass("comments-zan  comments-zan--active");
                        }else{
                            $("#zan"+reviewid).removeClass("comments-zan  comments-zan--active");
                            $("#zan"+reviewid).children(".comments-zan-text").text("赞");
                            data['count'] == 0 ? $("#zan"+reviewid).children(".comments-zan-value").text(""):$("#zan"+reviewid).children(".comments-zan-value").text("+"+data['count']);
                            $("#zan"+reviewid).addClass("comments-zan");
                        }
                    },
                    type:'post',
                    url:'../../admire/update'
                }
            )
        }*/
        function huifu(replyid) {
            $.ajax(
                {data:{'type_id':replyid,'type':4},
                    dataType:"json",
                    success: function(data){
                        if(data["status"]==1){
                            $("#hui"+replyid).removeClass("mr20 comments-zan");
                            $("#hui"+replyid).children(".comments-zan-value").text(+data['count']);
                            $("#hui"+replyid).addClass("mr20 comments-zan comments-zan--active");
                        }else{
                            $("#hui"+replyid).removeClass("mr20 comments-zan comments-zan--active");
                            $("#hui"+replyid).children(".comments-zan-value").text(data['count']);
                            $("#hui"+replyid).addClass("mr20 comments-zan");
                        }
                    },
                    type:'post',
                    url:'../../admire/update'
                }
            )
        }
        $(function () {
            $(".comments-item").each(function () {
                $(this).find(".reply-item--ops").each(function () {
                    if($(this).length != 2 || $(this).length != 1){
                        $(this).nextAll().remove();
                    }
                })
            });
        });
        function checkForm() {
            var a = [[${session.LoginUser}]];
            if(null == a){
                return true;
            }else if($("#textsi").val() == null || $("#textsi").val() == ""){
                swal('请输入要评论的内容！');
                return false;
            }
            return true;
        }
    </script>

</body>
</html>